<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>STX paint</title>
    <link rel="stylesheet" href="main.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fragment+Mono:ital@0;1&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/p5@latest/lib/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/processing/p5.js-sound/lib/p5.sound.min.js"></script>
    <script src="https://unpkg.com/hydra-synth"></script>
    <script src="includes/libs/hydra-synth.js"></script>
    <script>
      function updateStatusBarColor() {
        const isDarkMode = document.body.classList.contains("dark-mode");
        document
          .querySelector('meta[name="apple-mobile-web-app-status-bar-style"]')
          .setAttribute("content", isDarkMode ? "black" : "default");
      }

      // Listen for dark mode changes
      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.attributeName === "class") {
            updateStatusBarColor();
          }
        });
      });

      document.addEventListener("DOMContentLoaded", () => {
        observer.observe(document.body, {
          attributes: true,
        });
        updateStatusBarColor();
      });
    </script>
  </head>
  <body style="background: rgb(0, 0, 0)">
    <script src="script.js" defer></script>
  </body>
</html>
